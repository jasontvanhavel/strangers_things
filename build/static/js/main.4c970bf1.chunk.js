(this.webpackJsonpstrangers_things=this.webpackJsonpstrangers_things||[]).push([[0],{53:function(e,t,r){},60:function(e,t,r){},61:function(e,t,r){},62:function(e,t,r){},63:function(e,t,r){},64:function(e,t,r){},65:function(e,t,r){"use strict";r.r(t);var n,s=r(1),c=r(28),i=r.n(c),a=r(5),o=r(8),l=r(3),u=r(6),j=r.n(u),d=r(0),p=function(e){return Object(d.jsx)("h1",{onClick:function(){e.clickHandler()},children:e.text})},b=(r(53),function(e){e.currentUser;var t=e.currentUserState,r=e.setCurrentUserState,n=function(){};return Object(s.useEffect)((function(){r(localStorage.getItem("currentUser"))}),[localStorage.getItem("currentUser")]),Object(d.jsxs)("div",{id:"navbar-div",children:[t?Object(d.jsx)(o.b,{to:"/Home",style:{textDecoration:"none"},children:Object(d.jsx)(p,{text:"Logout",clickHandler:function(){localStorage.getItem("currentUser")&&(localStorage.clear(),r(""))}})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.b,{to:"/Register",style:{textDecoration:"none"},children:Object(d.jsx)(p,{text:"Register",clickHandler:n})}),Object(d.jsx)(o.b,{to:"/login",style:{textDecoration:"none"},children:Object(d.jsx)(p,{text:"Login",clickHandler:n})})]}),Object(d.jsx)(o.b,{to:"/Home",style:{textDecoration:"none"},children:Object(d.jsx)(p,{text:"Home",clickHandler:n})}),t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.b,{to:"/NewPost",style:{textDecoration:"none"},children:Object(d.jsx)(p,{text:"New Post",clickHandler:n})}),Object(d.jsx)(o.b,{to:"/MyPosts",style:{textDecoration:"none"},children:Object(d.jsx)(p,{text:"My Posts",clickHandler:n})}),Object(d.jsx)(o.b,{to:"/MyMessages",style:{textDecoration:"none"},children:Object(d.jsx)(p,{text:"My Messages",clickHandler:n})})]}):""]})}),h=r(2),x=r.n(h),O=r(7),m=(r(60),"https://strangers-things.herokuapp.com/api/2104-uic-rm-web-ft"),g=function(e){var t=e.title,r=e.price,n=e.seller,c=e.location,i=e.deliverable,l=e.description,u=(e.currentUser,e.id),p=Object(s.useState)(!1),b=Object(a.a)(p,2),h=b[0],g=b[1];function f(){return(f=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.delete(m+"/posts/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("currentUserToken")}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v="",w="",y="",U="",k=!1,S={};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"user-post",children:Object(d.jsx)("div",{className:"post-labels",children:h?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{id:"post-title",children:[Object(d.jsx)("label",{htmlFor:"new-post-title",children:"New Post Title"}),Object(d.jsx)("input",{type:"text",name:"new-post-title",id:"input-post-title",placeholder:"New Post Title",onChange:function(e){v=e.target.value}})]}),Object(d.jsxs)("div",{id:"post-price",children:[Object(d.jsx)("label",{htmlFor:"new-post-price",children:"Price"}),Object(d.jsx)("input",{type:"text",name:"new-post-price",id:"input-post-price",placeholder:"Price",onChange:function(e){w=e.target.value}})]}),Object(d.jsxs)("div",{id:"post-location",children:[Object(d.jsx)("label",{htmlFor:"new-post-location",children:"Location"}),Object(d.jsx)("input",{type:"text",name:"new-post-location",id:"input-post-location",placeholder:"Location",onChange:function(e){y=e.target.value}})]}),Object(d.jsxs)("div",{id:"delivery-box",children:[Object(d.jsx)("label",{htmlFor:"new-post-deliverable",children:"Willing to Deliver?"}),Object(d.jsx)("input",{type:"checkbox",name:"new-post-deliverable",id:"input-post-deliverable",value:"deliverable",onChange:function(e){k=e.target.checked}})]}),Object(d.jsxs)("div",{id:"post-description",children:[Object(d.jsx)("label",{htmlFor:"new-post-description",children:"Description"}),Object(d.jsx)("textarea",{name:"new-post-description",id:"input-post-description",placeholder:"Description",onChange:function(e){U=e.target.value}})]})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"post-title",children:t}),Object(d.jsx)("div",{className:"post-price",children:r}),Object(d.jsx)("div",{className:"post-seller",children:n}),Object(d.jsx)("div",{className:"post-location",children:c}),Object(d.jsx)("div",{className:"post-deliverable",children:i?"Willing to Deliver":"Pickup Only"}),Object(d.jsx)("div",{className:"post-description",children:l})]})})}),Object(d.jsx)("div",{className:"post-buttons",children:localStorage.getItem("currentUser")?Object(d.jsx)(d.Fragment,{children:localStorage.getItem("currentUser")===n?Object(d.jsxs)(d.Fragment,{children:[h?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{className:"edit-post-button",onClick:function(){S={post:{title:v,description:U,location:y,price:w,willDeliver:k}},j.a.patch(m+"/posts/"+u,S,{headers:{Authorization:"Bearer "+localStorage.getItem("currentUserToken")}}),g(!1)},children:"Save Changes"}),Object(d.jsx)("button",{className:"edit-post-button",onClick:function(){g(!1)},children:"Cancel Changes"})]}):Object(d.jsx)("button",{className:"edit-post-button",onClick:function(){g(!0)},children:"Edit Post"}),Object(d.jsx)("button",{className:"delete-post-button",onClick:function(){!function(e){f.apply(this,arguments)}(u)},children:"Delete Post"})]}):Object(d.jsx)(o.b,{to:"/NewMessage",className:"reply-button",style:{textDecoration:"none"},children:"Reply"})}):""})]})},f="https://strangers-things.herokuapp.com/api/2104-uic-rm-web-ft",v=function(e){e.currentUser;var t=e.searchTerm,r=Object(s.useState)([]),n=Object(a.a)(r,2),c=n[0],i=n[1];function o(){return l.apply(this,arguments)}function l(){return(l=Object(O.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(f+"/posts");case 2:return t=e.sent.data,e.abrupt("return",t.data.posts);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)(Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,o();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[]);var u=c.filter((function(e){return function(e,t){return!!(e.title.includes(t)||e.description.includes(t)||e.price.includes(t)||e.author.username.includes(t))}(e,t)})),p=t.length?u:c;return Object(d.jsx)(d.Fragment,{children:localStorage.getItem("currentUser")?Object(d.jsx)(d.Fragment,{children:p.map((function(e){return Object(d.jsx)(g,{title:e.title,description:e.description,price:e.price,seller:e.author.username,location:e.location,deliverable:e.willDeliver,currentUser:localStorage.getItem("currentUser"),id:e._id},e._id)}))}):Object(d.jsx)(d.Fragment,{children:p.map((function(e){return Object(d.jsx)(g,{title:e.title,description:e.description,price:e.price,seller:e.author.username,location:e.location,deliverable:e.willDeliver,currentUser:localStorage.getItem("currentUser")},e._id)}))})})},w="https://strangers-things.herokuapp.com/api/2104-uic-rm-web-ft",y=function(e){var t=e.currentUser,r=e.setCurrentUserState,n=Object(s.useState)(""),c=Object(a.a)(n,2),i=c[0],o=c[1],l=Object(s.useState)(""),u=Object(a.a)(l,2),p=u[0],b=u[1],h=Object(s.useState)(""),m=Object(a.a)(h,2),g=m[0],f=m[1];function v(){return(v=Object(O.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={user:{username:i,password:p}},e.prev=1,e.next=4,j.a.post(w+"/users/register",t);case 4:n=e.sent.data,localStorage.setItem("currentUserToken",n.data.token),localStorage.setItem("currentUser",i),n.success?r(t.user.username):f(n.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Please enter your new username and password"}),Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),function(){v.apply(this,arguments)}()},children:t?Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsxs)("h1",{children:["You are currently logged in as ",t]})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"username-input"}),Object(d.jsx)("input",{type:"text",id:"username-input",name:"username-input",placeholder:"Username",onChange:function(e){o(e.target.value)}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"password-input"}),Object(d.jsx)("input",{type:"password",id:"password-input",name:"password-input",placeholder:"Password",onChange:function(e){b(e.target.value)}})]}),Object(d.jsx)("button",{type:"submit",children:"Submit"})]})}),Object(d.jsx)("p",{children:g})]})},U="https://strangers-things.herokuapp.com/api/2104-uic-rm-web-ft",k=function(e){var t=e.currentUser,r=e.setCurrentUserState,n=Object(s.useState)(""),c=Object(a.a)(n,2),i=c[0],o=c[1],l=Object(s.useState)(""),u=Object(a.a)(l,2),p=u[0],b=u[1],h=Object(s.useState)(""),m=Object(a.a)(h,2),g=m[0],f=m[1];function v(){return(v=Object(O.a)(x.a.mark((function e(){var n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={user:{username:i,password:p}},e.prev=1,e.next=4,j.a.post(U+"/users/login",n);case 4:s=e.sent.data,localStorage.setItem("currentUserToken",s.data.token),t=n.user.username,r(t),localStorage.setItem("currentUser",t),f("You are now logged in as "+t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),f("Sorry, we do not recognize that username and password combination");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){g="You are now logged in as "+t}),[t]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Please enter your  username and password"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"username-input"}),Object(d.jsx)("input",{type:"text",id:"username-input",name:"username-input",placeholder:"Username",onChange:function(e){o(e.target.value),console.log(i)}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"password-input"}),Object(d.jsx)("input",{type:"password",id:"password-input",name:"password-input",placeholder:"Password",onChange:function(e){b(e.target.value)}})]}),Object(d.jsx)("div",{className:"reply-button",style:{textDecoration:"none"},onClick:function(){!function(){v.apply(this,arguments)}()},children:"Submit"}),Object(d.jsx)("div",{id:"login-message",children:g})]})},S=(r(61),"https://strangers-things.herokuapp.com/api/2104-uic-rm-web-ft"),N=function(e){if(""===e.currentUser)return Object(d.jsx)("h1",{children:"Please login."});var t=localStorage.getItem("currentUserToken");function r(){return(r=Object(O.a)(x.a.mark((function e(){var r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={post:{title:document.getElementById("new-post-title").value,description:document.getElementById("new-post-description").value,price:document.getElementById("new-post-price").value,willDeliver:document.getElementById("new-post-deliverable").checked}},console.log(r),e.prev=2,e.next=5,j.a.post(S+"/posts",r,{headers:{Authorization:"Bearer "+t}});case 5:n=e.sent.data,console.log(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return Object(d.jsxs)("div",{id:"new-post",children:[Object(d.jsx)("h1",{children:"Create New Post"}),Object(d.jsxs)("form",{id:"new-post-form",onSubmit:function(e){e.preventDefault(),function(){r.apply(this,arguments)}()},children:[Object(d.jsxs)("div",{id:"post-title",children:[Object(d.jsx)("label",{htmlFor:"new-post-title",children:"New Post Title"}),Object(d.jsx)("input",{type:"text",name:"new-post-title",id:"new-post-title",placeholder:"New Post Title"})]}),Object(d.jsxs)("div",{id:"post-price",children:[Object(d.jsx)("label",{htmlFor:"new-post-price",children:"Price"}),Object(d.jsx)("input",{type:"text",name:"new-post-price",id:"new-post-price",placeholder:"Price"})]}),Object(d.jsxs)("div",{id:"post-location",children:[Object(d.jsx)("label",{htmlFor:"new-post-location",children:"Location"}),Object(d.jsx)("input",{type:"text",name:"new-post-location",id:"new-post-location",placeholder:"Location"})]}),Object(d.jsxs)("div",{id:"delivery-box",children:[Object(d.jsx)("label",{htmlFor:"new-post-deliverable",children:"Willing to Deliver?"}),Object(d.jsx)("input",{type:"checkbox",name:"new-post-deliverable",id:"new-post-deliverable",value:"deliverable"})]}),Object(d.jsxs)("div",{id:"post-description",children:[Object(d.jsx)("label",{htmlFor:"new-post-description",children:"Description"}),Object(d.jsx)("textarea",{name:"new-post-description",id:"new-post-description",placeholder:"Description"})]}),Object(d.jsx)("input",{type:"submit",id:"submit-button"})]})]})},F=(r(62),"https://strangers-things.herokuapp.com/api/2104-uic-rm-web-ft"),C=function(e){var t=e.currentUser;if(""===t)return Object(d.jsx)("h1",{children:"Please login."});var r=Object(s.useState)([]),n=Object(a.a)(r,2),c=n[0],i=n[1];function o(){return l.apply(this,arguments)}function l(){return(l=Object(O.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get(F+"/posts");case 2:return t=e.sent.data,e.abrupt("return",t.data.posts);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)(Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,o();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[]);var u=c.filter((function(e){return function(e,t){return!!e.author.username.includes(t)}(e,localStorage.getItem("currentUser"))}));return Object(d.jsx)(d.Fragment,{children:u.map((function(e){return Object(d.jsx)(g,{title:e.title,description:e.description,price:e.price,seller:e.author.username,location:e.location,deliverable:e.willDeliver,currentUser:t,id:e._id},e._id)}))})},P=(r(63),function(){return Object(d.jsx)("div",{className:"message-card",children:Object(d.jsxs)("form",{children:[Object(d.jsx)("h3",{children:"To:"}),Object(d.jsx)("textarea",{placeholder:"Type message here."}),Object(d.jsx)("h3",{children:"Original Post URL"}),Object(d.jsx)("input",{type:"submit"})]})})}),D=(r(64),function(){return Object(d.jsxs)("div",{className:"message-card",children:[Object(d.jsx)("h3",{children:"From:"}),Object(d.jsx)("div",{className:"user-message",children:"Message from other user"}),Object(d.jsx)("h3",{children:"Original Post URL"}),Object(d.jsx)(o.b,{to:"/NewMessage",className:"reply-button",style:{textDecoration:"none"},children:"Reply"})]})}),I=function(e){return""===e.currentUser?Object(d.jsx)("h1",{children:"Please login."}):Object(d.jsxs)("div",{className:"message-board",children:[Object(d.jsx)("h1",{children:"My Messages"}),Object(d.jsx)(D,{})]})},M=function(){var e=Object(s.useState)(!1),t=Object(a.a)(e,2),r=t[0],c=t[1],i=Object(s.useState)(""),u=Object(a.a)(i,2),j=u[0],p=u[1],h=Object(s.useState)(""),x=Object(a.a)(h,2),O=x[0],m=x[1];return Object(d.jsx)("div",{id:"app",children:Object(d.jsxs)(o.a,{children:[Object(d.jsxs)("header",{children:[Object(d.jsx)("img",{src:"./STlogo.png"}),Object(d.jsxs)("div",{id:"navs",children:[Object(d.jsx)("label",{htmlFor:"search-bar"}),Object(d.jsx)("input",{type:"text",id:"search-bar",name:"search-bar",placeholder:"Search",onChange:function(e){p(e.target.value)}}),Object(d.jsx)("a",{className:"hamburger",onClick:function(){return c(!r)},children:Object(d.jsx)("i",{className:"material-icons",children:"menu"})})]})]}),Object(d.jsx)("div",{id:"header-border-bar"}),Object(d.jsxs)("main",{children:[Object(d.jsx)("section",{id:"lefty"}),Object(d.jsxs)("section",{id:"content-main",children:[Object(d.jsx)(l.a,{exact:!0,path:"/Home",render:function(){return Object(d.jsx)(v,{currentUser:n,searchTerm:j})}}),Object(d.jsx)(l.a,{exact:!0,path:"/Register",render:function(){return Object(d.jsx)(y,{currentUser:n,setCurrentUserState:m})}}),Object(d.jsx)(l.a,{exact:!0,path:"/login",render:function(){return Object(d.jsx)(k,{currentUser:n,setCurrentUserState:m})}}),Object(d.jsx)(l.a,{exact:!0,path:"/NewPost",render:function(){return Object(d.jsx)(N,{currentUser:n})}}),Object(d.jsx)(l.a,{exact:!0,path:"/MyPosts",render:function(){return Object(d.jsx)(C,{currentUser:n})}}),Object(d.jsx)(l.a,{exact:!0,path:"/MyMessages",render:function(){return Object(d.jsx)(I,{currentUser:n})}}),Object(d.jsx)(l.a,{exact:!0,path:"/NewMessage",render:function(){return Object(d.jsx)(P,{currentUser:n})}})]}),Object(d.jsx)("section",{id:"sidenav",children:r?Object(d.jsx)(b,{currentUser:n,currentUserState:O,setCurrentUserState:m}):""})]})]})})};i.a.render(Object(d.jsx)(M,{}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.4c970bf1.chunk.js.map